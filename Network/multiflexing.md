## Select와 Epoll

> I/O 멀티플렉싱 통지모델의 대표주자
>
> 고전의 Select와 리눅스의 Epoll에 대해 알아보자



### 멀티플렉싱이란?

+ 싱글쓰레드로 다중 I/O를 처리하는 방식
+ poll(), select(), epoll() 을 통해 여러 fd를 하나의 프로세스로 관리
+ 멀티스레드 방식과 달리 한 쓰레드에서 진행하기 때문에 더 많은 소켓 통신을 처리 가능



### Select

+ I/O 멀티플렉싱의 원조격
+ 그만큼 이식성이 좋다(여러 OS에서 호환)
+ fd_set라는 구조체에 파일 디스크립터를 등록해 관리
+ 하지만 **fd_set이 bitmask이므로 1024개**까지만 관리 가능
+ 그리고 매 함수 호출마다 **전체** fd 배열을 순회하며 이벤트를 감지(성능이 좋지 않다)



### Epoll

+ 관리 가능한 fd가 **무제한**

+ 하지만 **Linux에서만 지원**하므로 이식성은 별로

+ Select와 달리 **커널이 fd를 관리**

  -> 커널이 이벤트 발생한 fd들만 구조체로 넘겨주기 때문에 전체 배열을 검사할 필요가 없다

  **-> 성능이 Select보다 좋다.**



### 기타

+ Windows에는 epoll대신 **IOCP**가 존재한다.
+ FreeBSD에는 kqueue가 있다.



