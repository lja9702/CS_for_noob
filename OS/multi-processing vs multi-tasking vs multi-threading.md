# **멀티 프로세싱 vs 멀티 태스킹 vs 멀티 스레딩**

### **멀티 프로세싱 (Multi Processing)**

> 하나의 컴퓨터에 여러 CPU 장착하여 하나 이상의 프로세스들을 동시에 처리(병렬 처리)

- 여러개의 프로세서가 하나의 작업을 병렬로 처리하여 효율적이다. 

- fork 작업으로 하나의 프로세스가 두개의 프로세스로 늘어난다.
  => 이때 프로세스끼리 통신을 하려면 IPC를 통해 통신(세마포어, 큐, 공유메모리) 

- 장점: 하나의 프로세서가 고장나도 시스템이 정지하는 것이 아닌 속도만 느려짐

  

**fork()와 exec()의 차이점**

**fork():** 새로운 프로세스를 위해 <u>메모리를 할당하며</u>, 기존의 프로세스를 그대로 복사한다.

**exec():** 새로운 <u>메모리를 할당하지 않고</u> exec()에 의해 호출된 프로세스만 메모리에 남게 된다.

</br>

------------------

### 멀티 태스킹 (Multi Tasking)

> 태스크가 빠르게 처리되어 동시에 처리되는 것 처럼 보이는 작업
>
> 스케줄링을 사용하여 병렬 연산이 이루어지는 것과 같은 환경을 제공

- 테스크란 OS에서 처리하는 작업단위를 의미하는데, 그 여러 작업 단위가 빠르게 처리되어 동시에 처리되는 것 처럼 보인다.

- 여러 작업 단위란, 여러 프로세스들의 명령어를 쪼갠거라고 생각하면 됨

- **장점**

  메모리 침범 문제를 OS차원에서 해결하여 안정성을 갖추고 있다.

- **단점** 

  1. 각각 독립된 메모리영역을 갖고있어 작업량이 많을수록 오버헤드 발생
  2. Context Switching으로 인해 성능이 저하될 수 있음

</br>

---------------

### 멀티 스레딩 (Multi Threading)

> 프로세스 내에서 여러 스레드를 형성하여 명령어를 처리하는 것



* 하나의 프로세스를 다수의 실행단위로 구분하여 **자원을 공유**하고 **자원의 생성과 관리의 중복성을 최소화** 하여 수행능력을 향상시키는 것

* 서로 다른 스레드가 코드, 데이터, 힙영역을 공유하기 때문에 동일한 자원에 동시에 접근하는 것을 신경써야한다. 때문에 동기화작업이 필요하고, 이를 통해 작업 처리순서와 공유 자원 사용에 대해 컨트롤 해야한다. 하지만 이로인해 병목현상이 발생할 수 있다

* 각각의 스레드는 **독립적인 작업을 수행해야 하기 때문에** 각자의 스택과 PC레지스터 값을 갖고있다. 

* 보통 사용자마다 스레드를 따로 만듬...보통!

* **멀티 태스킹 vs 멀티 스레딩**

  멀티 태스킹: 운영체제가 알아서 처리

  멀티 스레딩: 프로그램 설계 시 직접 구현

* **스택을 스레드마다 독립적으로 할당하는 이유** 

  독립적인 작업을 수행해야되기 때문이다. 스택 메모리 공간이 독립적이라는 것은 독립적인 함수 호출이 가능하다는 것이고, 이는 독립적인 실행 흐름이 추가되는 것이다.

* **PC레지스터를 스레드마다 독립적으로 할당하는 이유**

  PC값은 스레드가 명령어 어디까지를 수행했는지를 나타내는데, 스레드는 CPU를 받았다가 스케줄러에 의해 다시 선점당한다. 때문에 명령어가 연속적으로 수행되지 못해 어디까지 수행했는지 기억할 필요가 있다.
